<!-- Author: Marvin Monsalud -->
<!-- Startdate: Dec 16 2021 -->
<!-- Email: marvin.monsalud.mm@gmail.com -->
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="color-scheme" content="light
	" />

	<title>Wallet - SafelyPal</title>

	<link rel="icon" type="image/png" href="assets/imgs/logo_safetypal_bottom_text.png"/>
</head>

<!-- libraries needed -->
	<script src="assets/js/common.js"></script>
	<script src="assets/js/admin/common.js"></script>
	<!-- <script src="cordova.js"></script> -->

	<link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
	<link href="assets/css/simple-sidebar.css" rel="stylesheet">

	<link href="assets/lib/DataTables/datatables.css" rel="stylesheet">
	<link href="assets/lib/DataTables/datatables.min.css" rel="stylesheet">
	<link href="assets/lib/DataTables/datatables.min.css" rel="stylesheet">
	<link href="assets/lib/DataTables/buttons.dataTables.min.css" rel="stylesheet">
	<link href="assets/css/fontsss.css" rel="stylesheet">


	<script src="assets/vendor/jquery/jquery.min.js"></script>
	<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

	<script src="assets/lib/jquery-ui-1.13.1/jquery-ui.min.js"></script>
	<link href="assets/lib/jquery-ui-1.13.1/jquery-ui.css" rel="stylesheet">

	<link href="assets/lib/jquery_event_swipe-master/index.js" rel="stylesheet">


	

	<script src="assets/lib/DataTables/datatables.js"></script>
	<script src="assets/lib/DataTables/datatables.min.js"></script>
	<script src="assets/lib/DataTables/dataTables.responsive.min.js"></script>
	<script src="assets/lib/DataTables/dataTables.buttons.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/2.1.0/js/dataTables.buttons.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
	<script src="https://cdn.datatables.net/buttons/2.1.0/js/buttons.html5.min.js"></script>


	<script src="assets/lib/js-toast-master/toast.min.js"></script>
	
	<script src="assets/lib/Chart.js/Chart.bundle.js"></script>

	<script src="assets/vendor/bootbox/bootbox.min.js"></script>

	<script src="assets/vendor/jquery-confirm/confirm.js"></script>
	<link href="assets/vendor/jquery-confirm/confirm.css" rel="stylesheet">

	<link href="assets/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<script src="https://use.fontawesome.com/568e202d1f.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

	<link href="assets/vendor/bootstrap-select/dist/css/bootstrap-select.css" rel="stylesheet">
	<script src="assets/vendor/bootstrap-select/dist/js/bootstrap-select.js"></script>

	<script src="assets/vendor/jquery/jquery.validate.min.js"></script>

	<script src="assets/vendor/jquery-toast-plugin-master/src/jquery.toast.js"></script>
	<link href="assets/vendor/jquery-toast-plugin-master/src/jquery.toast.css" rel="stylesheet">

	<script src="assets/vendor/qrCode/qrcode.js"></script>

	<link rel="stylesheet" type="text/css" href="assets/vendor/slick-1.8.1/slick/slick.css"/>
	<script type="text/javascript" src="assets/vendor/slick-1.8.1/slick/slick.min.js"></script>


	<!-- NEW -->
		<script src="assets/lib/jquery.countdown-2.2.0/jquery.countdown.js"></script>
		<link rel="stylesheet" href="assets/lib/keen/keen-slider.min.css" />
		<script src="assets/lib/keen/keen-slider.min.js"></script>
	<!-- NEW -->
					
	

<!-- libraries needed -->

<!-- custom libraries -->
	<script src="assets/js/common.js"></script>
	<script src="assets/js/admin/common.js"></script>

	<link href="assets/css/sidenav.css" rel="stylesheet">
	<link href="assets/css/main_securitywalet.css" rel="stylesheet">

<!-- custom libraries -->

<!-- css -->
	<style>
		.btn:focus {
		  outline: none;
		  box-shadow: none;
		}

      	/*google translate*/
		  .goog-te-banner-frame.skiptranslate, .goog-te-gadget-icon {
    	       display: none !important;
    	    }

            html, body {
			    max-width: 100%;
			    overflow-x: hidden;
			}

    	    body {
    	       top: 0px !important;

    	    }

    	    .goog-tooltip {
    	       display: none !important;
    	    }

    	    .goog-tooltip:hover {
    	       display: none !important;
    	    }

    	    .goog-text-highlight {
    	       background-color: transparent !important;
    	       border: none !important;
    	       box-shadow: none !important;
    	    }

    	    #google_translate_element{
    	        display: none !important;
    	    }

    	    #goog-gt-tt{
    	    	display: none !important;
    	    }
        /*google translate*/
	@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap%27');

		/* Mainstyle */
			body{
				font-family: 'Poppins', sans-serif;
			}
			.font-size-2p5em{
				font-size:2.5em;
			}
			.main-color-icon{
				color: #5426de;
			}
			.light-text{
				color:#D9E9E8;
			}
			.custom-2nd-text{
				color:#D9E9E8;
			}
			.text-muted{
				color: #94abef!important;
			}
			.secondary-color-bg{
				background-color: #94abef!important;
			}

			/* dark mode */
			.dark-mode{
				background-color : #120731!important;
				color : white!important;
			}
			.dark-mode body{
				background-color : #120731!important;
			}
			.dark-mode .main-color-bg{
				/* background-color: #120731; */
				background-color: #220e5d;
			}
			.dark-mode .main-color-text{
				color: white!important;
			}
			.dark-mode .title-color-text{
				color: white!important;
			}
			.dark-mode .modal-content{
				background-color: #120731!important;
			}
			.dark-mode .btn-danger{
				background-color: #5d220e!important;
				border-color: #5d220e!important;
				color:white!important;
			}
			.dark-mode .btn-sucess{
				background-color: #23923d!important;
				border-color: #23923d!important;
				color:white!important;
			}
			.dark-mode .custom-2nd-text{
				color:#D9E9E8;
			}
			.dark-mode #asset_tabs a{
				color:white;
			}
			.dark-mode #dailymining_tabs a{
				color:white;
			}
			.dark-mode #risefall_history_container a{
				color:white;
			}
			.dark-mode #future_history_container a{
				color:white;
			}
			/* .dark-mode #risefall_history_tab_btn th{
				color:white;
			} */
			.dark-mode .main-card-ui{
				background-color:#220e5d;
				color:white!important;
			}
			

			/* light mode */
			.light-mode{
				background-color : white!important;
				color: #3a189f!important;
			}
			.light-mode .main-color-bg{
				background-color: #5426de;
			}
			.light-mode .main-color-text{
				color: #5426de !important;
			}

			.light-mode .title-color-text{
				color: white!important;
			}
			.light-mode .modal-content{
				background-color: white!important;
			}

			/* .dark-mode th{
				color: white;
			}

			.light-mode th{
				color: #120731;
			} */
			
			.light-mode .custom-2nd-text{
				color:#3a189f;
			}
			.light-mode .btn-danger{
				background-color: #dc3545!important;
				border-color: #dc3545!important;
				color:white!important;
			}
			.light-mode #asset_tabs a{
				color:#3a189f;
			}
			.light-mode #dailymining_tabs a{
				color:#3a189f;
			}
			.light-mode #risefall_history_container a{
				color:#3a189f;
			}
			.light-mode #future_history_container a{
				color:#3a189f;
			}
			.light-mode .main-card-ui{
				background-color:white;
				color:#3a189f !important;
			}

			.jq-toast-single {
		  		font-size: 16px;
			}

			.jq-toast-single:last-of-type {
		  		margin-bottom: 50px;
			}

			.sec-color{color:#b0de26;}
			.sec-bgcolor{background-color:#b0de26;}
			.font-light{color:#F3F8F8}

			/*dropdown country width fixed*/
			.dropdown-menu[x-placement^=bottom]{
				max-width: 20rem!important;
			}
			.dropdown-menu[x-placement^=top]{
				max-width: 20rem!important;
			}

			:root{
				--main-color-light:#5426de!important;
				--main-color-dark:white!important;
			}

			.light-mode .nav-link.tab-pane.fade.show.active:before {
				border-bottom: .2rem solid #5426de;
			}
			.dark-mode .nav-link.tab-pane.fade.show.active:before {
				border-bottom: .2rem solid var(--main-color-dark);
			}
	</style>
<!-- css -->
<body style="min-height: 130%;" class="light-mode">
	<div id="topNavBar" class="main-color-bg light-text notranslate" style="display:none; color:white!important;">
		<span id="profile_btn" style="float: left;" ><i class="fa fa-user-o fa-md" aria-hidden="true"></i><span class="ml-2" id="username_container"></span></span>

		<span id="top_back_btn" style="float: left;display: none;" ><i class="fa fa-angle-left fa-md" aria-hidden="true"></i></span>

		<span id="notif_btn" class="" style="float:right;">
			<i id="notif_logo" class="fa fa-bell-o fa-md fa-inverse" style="color:white!important;"  aria-hidden="true">
				<span id="notif_counter_number" style="font-size:.45em; right:.4em; top:1.5em; display:none" class="position-absolute badge bg-danger">0</span>
			</i>
		</span>
	</div>

	<div id="loadSpinner" class="text-center text-primary" style="margin-top: 30vh;display: none;">
	  	<div class="spinner-border main-color-text" role="status" style="width: 5rem; height: 5rem;">
	    	<span class="sr-only"></span>
	  	</div><br>
		<span class="font-weight-bold mt-2 main-color-text" id="loading_text_container" style="font-size:30px; text-align: center;">Loading...</span>
	</div>

	<div id="container" class="mb-5 keen-slider" style="display:;min-height: 120%;">
		<div id="assets_container" style="display:none;" class="keen-slider__slide">
			<div id="header_inner_container" class="main-color-bg py-2" style="display:none;">
				<div class="font-weight-bold text-center">
					<span class="h6 text-muted" style="color:white;">TOTAL BALANCE 
					<span id="visible_btn" style="display:none;">
						<i id="eye_close" class="fa fa-eye-slash mt-2 text-muted" style="display:inline-block;" aria-hidden="true"></i>
						<i id="eye_open" class="fa fa-eye text-muted" style="display:none;" aria-hidden="true"></i>
					</span>
					<br>
					<span id="totalInUsdContainer" class="font-size-2p5em title-color-text notranslate">Loading...</span>
				</div>

				<div id="main_btns_container" style="display:none;">
					<div id="btn_option_container" class="d-flex justify-content-center mt-1">
					
						<button id="deposit_btn_option" class="btn" style="background-color:transparent">
							<div class="btn btn-md" style="font-size:1.5em;padding:1px;">
								<i class="fa fa-arrow-circle-down fa-lg fa-inverse" aria-hidden="true"></i>
								<!-- <img style="width:50px;height:50px;filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(297deg) brightness(102%) contrast(101%);" src="assets/imgs/app-icons/menu-icons/icons8-deposit-64.png"> -->
							</div>
							<div style="font-size:.8em;" class="text-light">Deposit</div>
						</button>

						<button id="withdraw_btn_option" class="btn" style="background-color:transparent">
							<div class="btn btn-md" style="font-size:1.5em;padding:1px;">
								<i class="fa fa-arrow-circle-up fa-lg fa-inverse" aria-hidden="true"></i>
								<!-- <img style="width:50px;height:50px;filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(297deg) brightness(102%) contrast(101%);" src="assets/imgs/app-icons/menu-icons/icons8-withdraw-64.png"> -->
							</div>
							<div style="font-size:.8em;" class="text-light">Withdraw</div>
						</button>

						<button id="buy_btn_option" class="btn" style="background-color:transparent">
							<div class="btn btn-md" style="font-size:1.5em;padding:1px;">
								<i class="fa fa-credit-card-alt fa-md fa-inverse" aria-hidden="true"></i>
								<!-- <img style="width:50px;height:50px;filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(297deg) brightness(102%) contrast(101%); width: 1.5em: ;" src="assets/imgs/app-icons/menu-icons/icons8-top-64.png"> -->
							</div>
							<div style="font-size:.8em;;" class="text-light">Buy</div>
						</button>
					</div>
				</div>
			</div>

			<!-- <div class="text-center m-2 mb-3" id="updating_assets_container" style="opacity: .3;">
				<span class="spinner-border" role="status">
				  <span class="sr-only">Loading...</span>
				</span>

				<span class="mb-2">Updating Assets...</span>
			</div> -->
			

			<style>
				#asset_tabs a{
					/* color: #94abef; */
					opacity: .5;
					-webkit-transition: color 2s, font-size .25s;
					-moz-transition: color 2s, font-size .25s;
					-o-transition: color 2s, font-size .25s;
					transition: color 2s, font-size .25s;
				}

				.nav-link.tab-pane.fade.show.active{
					font-size:1.8em;
					opacity: 1 !important;
					-webkit-transition: color 1s, font-size .25s;
					-moz-transition: color 1s, font-size .25s;
					-o-transition: color 1s, font-size .25s;
					transition: color 1s, font-size .25s;

					border-color: transparent;
					background-color:transparent;

					padding-bottom: 5px;
						position: relative;
				}

				.nav-link.tab-pane.fade.show.active:before{
					content: "";
					position: absolute;
					width: 50%;
					height: 1px;
					bottom: 0;
					left: 25%;
				}

			</style>

			

			<div id="asset_tab_container" class="mt-3">
				<ul id="asset_tabs" class="nav nav-tabs nav-justified" role="tablist">
					<li class="nav-item">
						<a id="balance_tab_id" class="nav-link active tab-pane fade show main-color-link" data-toggle="tab" href="#balance_tab">BALANCE</a>
					</li>
					<li class="nav-item">
						<a id="portfolio_tab_id" class="nav-link tab-pane fade show main-color-link" data-toggle="tab" href="#portfolio_tab">PORTFOLIO</a>
					</li>
				</ul>

				<div class="asset-tab-content tab-content">
					<div id="balance_tab" class="px-4 notranslate tab-pane active notranslate tab-pane active"><br>
						<div id="tokenContainer"></div>
						
						<div class="row">
							<div class="col-6 text-center">
								<button class="btn btn-outline-link btn-block main-color-text mt-2 text-muted" disabled id="addToken_btn">
									<i class="fa fa-sliders" aria-hidden="true"></i>
									Add more
								</button>
							</div>

							<div class="col-6 text-center">
								<button class="btn btn-outline-link btn-block main-color-text mt-2 text-muted" disabled id="refresh_btn">
									<i class="fa fa-refresh" aria-hidden="true"></i>
									Refresh
								</button>
							</div>
						</div>

						
					</div>

					<div id="portfolio_tab" class="container tab-pane fade"><br>
						<div class="text-center" id="pnl_loading">
							<h3>
								<div class="spinner-grow main-color-text" role="status">
								  <span class="sr-only">Loading...</span>
								</div>

								Loading...

							</h3>
						</div>

						<div id="pnl_main" class="main-card-ui rounded shadow-lg" style="display:none">

							<div class="row p-3">
								<div class="col-6">
									<b>Today's Earnings (Trading):</b><br>
									<span id="todaysEarning">
										0 USD
									</span>
								</div>
								
								<div class="col-6">
									<b>Yesterdays PNL:</b><br>
									<span id="yesterdayPnl">
										0% Change
									</span>
								</div>
							</div>

							<div class="row p-3">
								<div class="col-6">
									<b>7 Days PNL:</b><br>
									<span id="allDaysPnl">
										0% Change
									</span>
									
								</div>

								<div class="col-6">
									<b>14 Days PNL:</b><br>
									<span id="14DaysPnl">
										0% Change
									</span>
								</div>
							</div>


								
							<div class="p-3">
								7 Days PNL Chart

								<div id="graph-container-pnl">
									<canvas id="pnl_chart_container" width="400" height="200"></canvas >
								</div>

								
							</div>

							<div class="p-3">
								14 Days PNL Chart

								<div id="graph-container-pnl-14">
									<canvas id="pnl_14_chart_container" width="400" height="200"></canvas >
								</div>

								
							</div>

							<div class="p-3">
								Assets Distribution

								<div id="graph-container-assets">
									<canvas id="assets_chart_container" width="600" height="400"></canvas >
								</div>

							</div>
						</div>

					</div>


				</div>

				</div><!-- asset_tab_container -->
				
				<style>
					.nav-tabs {
						border-bottom: transparent;
					}
				</style>
		</div>

		<div id="2_container_slider" style="display:none;" class="keen-slider__slide">
			<style type="text/css">
				.font-sm{
					font-size: 1rem!important;
				}
				.font-xsm{
					font-size: .9rem!important;
				}
				.font-md{
					font-size: 1.3rem!important;
				}
				.font-lg{
					font-size: 1.4rem!important;
				}
				.font-xlg{
					font-size: 2rem!important;
				}
				.text-semibold{
					font-weight: 400;
				}
				.text-bold{
					font-weight: bold;
				}
				.text-bolder{
					font-weight: bolder;
				}
				.cardshad{
					box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px!important;
				}
				.cardshad1{
					box-shadow: rgba(50, 50, 93, 0.25) 0px 6px 12px -2px, rgba(0, 0, 0, 0.3) 0px 3px 7px -3px;
				}
				#instruction_invites{
					line-height: 1;
				}
		    	.icon_kyc{
			        font-size:1rem!important;
			        color:#5426de!important;
		    	}
		    	.line1{
		    		line-height: 1;
		    	}
			</style>

			<div class="card px-1 py-2 rounded shadow-lg main-card-ui m-2 cardshad">
				<div class="card px-2 py- pt-4 mt-2 rounded shadow-lg main-card-ui m-2 cardshad1">
					<span class="main-color-text text-start text-bold font-lg">Invite friends and earn USDT</span>
					<span class="font-xsm text-muted text-start py-1 text-bold line1 display-4">Copy the link and send it to your friends & wait for the rewards to be sent</span> 

					<div class="input-group mb-1">
					  <input type="text" class="form-control" id="referal_link_container" readonly>

					  <div class="input-group-append">
					    <button class="btn secondary-color-bg" style="color:white;" type="button" id="copyLink_btn">Copy</button>
					  </div>
					</div>

					<div id="total_invites" class="main-color-text text-start">
						<span class="font-sm main-color-text text-bolder display-4">TOTAL INVITES </span> 
						<span class="main-color-text text-bolder font-md" id="total_invites_container"></span>
						
						<button class="btn btn-link" id="view_invites_btn">
							<spam class="font-sm text-semibold text-muted" style="text-decoration: underline;">
								view
							</spam>
						</button>
					</div>
				</div>
				<div class="card p-2 mb-2 rounded shadow-lg main-card-ui mx-2 cardshad1">
					<div class="main-color-text text-start">
						<div id="instruction_invites" class=" pt-4 pb-2 ">
							<span class=" font-md text-bold">
								Share the link to earn rewards!
							</span>

							 <div id="noteslist_invite" class="m-2"> 
						        <div class="text-start px-3">
						          <i class="fa fa-caret-right icon_kyc " aria-hidden="true"></i><span class="text-start main-color-text font-sm"> Invite 1 to get 5% reward!</span>
						        </div>
						        <div class="text-start px-3">
						          <i class="fa fa-caret-right icon_kyc " aria-hidden="true"></i><span class="text-start main-color-text font-sm"> Invite 2 to get 6% reward!</span>
						        </div>
						        <div class="text-start px-3">
						          <i class="fa fa-caret-right icon_kyc " aria-hidden="true"></i><span class="text-start main-color-text font-sm"> Invite 5 to get 10% reward!</span>
						        </div>
						    </div>
						</div>
						
					</div>
				</div>
			</div>


			<div class="card px-2 pt-5 pb-4 mt-2 rounded shadow-lg main-card-ui m-2 cardshad">
				<h4 class="text-center mb-3 font-xlg text-bold">Top Crypto News</h4>

				<div id="news_container"></div>

				<div id="newsLoading">
					<h3>
						<div class="spinner-grow main-color-text" role="status">
						  <span class="sr-only">Loading Latest News...</span>
						</div>

						Loading Latest News...
					</h3>
				</div>

				<script type="text/javascript">
					$("#view_invites_btn").click(function(){
						bootbox.alert({
						    message: ajaxLoadPage('quickLoadPage',{'pagename':'wallet/invitesList'}),
						    size: 'large',
						    centerVertical: true,
						    closeButton: false
						});
					});

					$("#copyLink_btn").on("click",function(){
						// var copiedLink = $("#referal_link_container").val()
						// navigator.clipboard.writeText(copiedLink);

						$("#referal_link_container").select();
						document.execCommand("copy");
						document.getSelection().removeAllRanges();

						$.toast({
						    text: 'Successfully Copied the Link',
					        showHideTransition: 'slide',
					        allowToastClose: false,
					        hideAfter: 5000,
					        stack: 5,
					        position: 'bottom-center',
					        textAlign: 'center',
					        loader: true,
					        loaderBg: '#9EC600'
						})
					});
				</script>
			</div>
		</div>

		<div id="3_container_slider" style="display:none;" class="keen-slider__slide">
			<style type="text/css">
				.material-switch > input[type="checkbox"] {
				    display: none;   
				}

				.material-switch > label {
				    cursor: pointer;
				    height: 0px;
				    position: relative; 
				    width: 40px;  
				}

				.material-switch > label::before {
				    background: rgb(0, 0, 0);
				    box-shadow: inset 0px 0px 10px rgba(0, 0, 0, 0.5);
				    border-radius: 8px;
				    content: '';
				    height: 16px;
				    margin-top: -8px;
				    position:absolute;
				    opacity: 0.3;
				    transition: all 0.4s ease-in-out;
				    width: 40px;
				}
				.material-switch > label::after {
				    background: rgb(255, 255, 255);
				    border-radius: 16px;
				    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);
				    content: '';
				    height: 24px;
				    left: -4px;
				    margin-top: -8px;
				    position: absolute;
				    top: -4px;
				    transition: all 0.3s ease-in-out;
				    width: 24px;
				}
				.material-switch > input[type="checkbox"]:checked + label::before {
				    background: inherit;
				    opacity: 0.5;
				}
				.material-switch > input[type="checkbox"]:checked + label::after {
				    background: inherit;
				    left: 20px;
				}

				input[type="checkbox"]:disabled {
				  background: white!important;
				}
			</style>

			<div class="p-2">
				<div class="main-color-text mb-2 font-weight-bold h5">Security</div>
				<button id="security_btn" style="margin-left:3px" class="btn custom-2nd-text btn-block text-left">
					<i class="fa fa-shield" aria-hidden="true"></i>
					<span style="font-size: 18px;margin-left:2px">&nbsp;Reset Password</span>
				</button>
			</div>	

			<div class="p-2">
				<div class="main-color-text mb-2 font-weight-bold h5">Preference</div>
				<button id="display_currency_btn" class="btn custom-2nd-text btn-block text-left">
					<i class="fa fa-money" aria-hidden="true"></i>
					<span class="" style="font-size: 18px;">&nbsp;Display Currency</span>
				</button>

				<!-- <button id="language_btn" class="btn custom-2nd-text  btn-block text-left">
					<i class="fa fa-language" aria-hidden="true"></i>
					<span class="" style="font-size: 18px;">&nbsp;Language</span>
				</button> -->
				
				<button id="theme_btn" class="btn custom-2nd-text btn-block text-left d-flex">
					<div class="flex-fill">
						<i class="fa fa-paint-brush" aria-hidden="true"></i>
						<span class="" style="font-size: 18px;">&nbsp;Dark Mode</span>
					</div>

					<div class="flex-fill">
						<div class="ml-auto material-switch pull-right">
						<input id="theme_switch" name="themeSwitchToggle" type="checkbox">
						<label for="theme_switch" class="label-default secondary-color-bg"></label>
						</div>
					</div>
				</button>

				
			</div> 
				
				<!-- <button id="price_alert_btn" class="btn text-muted  btn-block text-left">
					<i class="fa fa-bell" aria-hidden="true"></i>
					<span class="" style="font-size: 15px;">&nbsp;Price Alerts</span>
				</button>

				<button id="exportWallet_btn" class="btn text-muted  btn-block text-left">
					<i class="fa fa-exchange" aria-hidden="true"></i>
					<span class="" style="font-size: 15px;">&nbsp;Export Wallet</span>
				</button> -->



			<div class="p-2">
				<div class="main-color-text mb-2 font-weight-bold h5">Follow Us</div>

				<button class="btn custom-2nd-text  btn-block text-left" disabled style="font-size: 18px;">
					<i class="fa fa-facebook-square" aria-hidden="true"></i>
					<span class="">&nbsp;Facebook</span>
				</button>

				<button class="btn custom-2nd-text  btn-block text-left" disabled style="font-size: 18px;">
					<i class="fa fa-telegram" aria-hidden="true"></i>
					<span class="">&nbsp;Telegram</span>
				</button>

				<button class="btn custom-2nd-text  btn-block text-left" disabled style="font-size: 18px;">
					<i class="fa fa-twitter-square" aria-hidden="true"></i>
					<span class="">&nbsp;Twitter</span>
				</button>

				<button class="btn custom-2nd-text  btn-block text-left" disabled style="font-size: 18px;">
					<i class="fa fa-youtube-play" aria-hidden="true"></i>
					<span class="">&nbsp;Youtube</span>
				</button>

				<button class="btn custom-2nd-text  btn-block text-left" disabled style="font-size: 18px;">
					<i class="fa fa-reddit" aria-hidden="true"></i>
					<span class="">&nbsp;Reddit</span>
				</button>
			</div>

			<div class="p-2">

				<div class="main-color-text mb-2 font-weight-bold h5">Support</div>
				<button class="btn custom-2nd-text  btn-block text-left" disabled style="font-size: 20px;margin-left:3px">
					<i class="fa fa-question" aria-hidden="true"></i>
					<span class="" style="font-size: 18px;margin-left:2px">&nbsp;FAQ/Help Center</span>
				</button>

				<button id="chat_support_btn" class="btn custom-2nd-text  btn-block text-left" style="font-size: 20px;margin-left:3px">
					<i class="fa fa-comments" aria-hidden="true"></i>
					<span class="" style="font-size: 18px;margin-left:2px">&nbsp;Chat Support</span>
				</button>

				<hr>
				
				<button id="logOut_btn" type="button" class="btn btn-block btn-danger" style="font-size: 20px;">LOGOUT</button>
				
			</div>

			<script type="text/javascript">
				$('#display_currency_btn').on('click',function(){
					addBreadCrumbs("wallet/settings/currency");

					$("html, body").animate({ scrollTop: 0 }, "slow");

					$("#container").toggle();
					
					$("#profile_btn").css('display',"none");
					$("#top_back_btn").css('display',"block");

					$("#container_main").empty();
					$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/settings/currency'}));
					$("#container_main").toggle();
				});

				$('#security_btn').on('click',function(){
					addBreadCrumbs("wallet/settings/security");

					$("html, body").animate({ scrollTop: 0 }, "slow");

					$("#container").toggle();
					
					$("#profile_btn").css('display',"none");
					$("#top_back_btn").css('display',"block");

					$("#container_main").empty();
					$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/settings/security'}));
					$("#container_main").toggle();
				});

				$('#theme_switch').on('change',function(){
					var $this = $(this);
					console.log($this.is(":checked"));

					if($this.is(":checked")){
						isDarkMode = 1;
						chartTheme = 'dark';
						setLocalStorageByKey("isDarkMode",1);
						$("body").removeClass( "light-mode" ).addClass( "dark-mode" );
						
					}else{
						isDarkMode = 0;
						chartTheme = 'light';
						setLocalStorageByKey("isDarkMode",0);
						$("body").removeClass( "dark-mode" ).addClass( "light-mode" );
					}
				});

				$('#theme_btn').on('click',function(){
					var $this = $('#theme_switch');

					if($this.is(":checked")){
						$('#theme_switch').prop("checked", false);
					}else{
						$('#theme_switch').prop("checked", true);
					}

					$('#theme_switch').trigger("change");

				});

				$('#price_alert_btn').on('click',function(){
					addBreadCrumbs("wallet/settings/priceAlert");
					
					$("html, body").animate({ scrollTop: 0 }, "slow");

					$("#container").toggle();
					
					$("#profile_btn").css('display',"none");
					$("#top_back_btn").css('display',"block");

					$("#container_main").empty();
					$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/settings/priceAlert'}));
					$("#container_main").toggle();
				});

				$('#language_btn').on('click',function(){
					addBreadCrumbs("wallet/settings/language");

					$("html, body").animate({ scrollTop: 0 }, "slow");

					$("#container").toggle();
					
					$("#profile_btn").css('display',"none");
					$("#top_back_btn").css('display',"block");

					$("#container_main").empty();
					$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/settings/language'}));
					$("#container_main").toggle();
				});

				$('#chat_support_btn').on('click',function(){
					addBreadCrumbs("wallet/settings/chat");

					$("html, body").animate({ scrollTop: 0 }, "slow");

					$("#container").toggle();
					
					$("#profile_btn").css('display',"none");
					$("#top_back_btn").css('display',"block");

					$("#container_main").empty();
					$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/settings/chat'}));
					$("#container_main").toggle();
				});

				$('#logOut_btn').on('click',function(){
					$.confirm({
						theme:'dark',
						icon: 'fa fa-sign-out',
						title: 'Logging out?',
						columnClass: 'col-md-6 col-md-offset-6',
						content: 'Are you sure you want to <b>logout</b>?',
						buttons: {
							confirm: function () {
								// deleteLocalStorageByKey('currentUser');
								localStorage.clear();
								window.location.href = 'index';//local
							},
							cancel: function () {

							},
						}
					});
				});
			</script>
		</div>
	</div>

	<div id="container_main" style="display:none">

	</div>

	<br>
	<br>
	<br>
	<br>

	<script type="text/javascript">
		var slider1 = new KeenSlider("#container",{
		    // auto set the slider to the height of the tallest slide
		    autoHeight: true,
		    // auto center the current slide
		    centered: false,
		    // pass options for different screen size
		    // e.g.
		    //   breakpoints: {
		    //    '(min-width: 720px) and (max-width: 1000px)': {
		    //       options here
		    //     },
		    //   }
		    breakpoints: null,
		    // enable mouse drag and touch swipe events
		    controls: true,
		    // adjust the speed that is translated to the slider when dragging
		    dragSpeed: 1,
		    // friction factor
		    friction: 0.0025,
		    // enable infinite loop
		    loop: false,
		    // initial slide
		    initial: 0,
		    // duration of the animation
		    duration: 500,
		    // slide selector
		    slides: '.keen-slider__slide',
		    // enable vertical mode
		    vertical: false,
		    // reset the slider on window resize
		    resetSlide: false,
		    // how many slides per view
		    slidesPerView: 1,
		    // space between slides
		    spacing: 0,
		    // "snap": auto snap to the next/prev slide
		    // "free-snap": free mode + auto snap
		    // "free": free mode
		    mode: 'snap',
		    // simulate rubberband if moving or dragging above the slider edge
		    rubberband: true,
		    // cancel on leave
		    cancelOnLeave: true,
			slideChanged: slider => {
				$(".bottom-nav-item").removeClass("bottom-nav-item-active");
				$("html, body").animate({ scrollTop: 0 }, "slow");

				var sliderPosition = slider.track.details.position.toFixed(0)

				if(sliderPosition == 0){
					$("#assets_btn").addClass("bottom-nav-item-active");
				}

				if(sliderPosition == 1){
					$("#discover_btn").addClass("bottom-nav-item-active");	
				}

				if(sliderPosition == 2){
					$("#settings_btn").addClass("bottom-nav-item-active");		
				}
			},
		});
	</script>

	<style>
		.botnav-icon{
			font-size:2.2rem;
		}
		.botnav-icon:hover{
			color: #94abef;
		}
	</style>

	<ul id="bottomNavBar" style="display:none;" class="nav fixed-bottom main-color-bg justify-content-center row">
		<li id="assets_btn" class="nav-item bottom-nav-item col-3 text-center bottom-nav-item-active">
			<!-- <i class="fa fa-bank fa-inverse botnav-icon" alt="Asset" aria-hidden="true"></i> -->
			<img style="width:1.8em;filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(297deg) brightness(102%) contrast(101%);" src="assets/imgs/logo_safetypal_bottom_text.png">
			<!-- <a class="nav-link" style="font-size:.7em; color:#D9E9E8;"  href="#">Assets</a> -->
		</li>

		<li id="discover_btn" class="nav-item col-3 text-center bottom-nav-item">
			<!-- <i class="fa fa-globe fa-inverse botnav-icon" style="width:1.5em;" alt="Discover" aria-hidden="true"></i> -->
			<img style="width:1.8em;filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(297deg) brightness(102%) contrast(101%);" src="assets/imgs/app-icons/menu-icons/compass.png">
			<!-- <a  class="nav-link" style="font-size:.7em; color:#D9E9E8;" href="#">Discover</a> -->
		</li>

		<li id="settings_btn" class="nav-item col-3 text-center bottom-nav-item">
			<!-- <i class="fa fa-cogs fa-inverse botnav-icon" alt="Settings" aria-hidden="true"></i> -->
			<img style="width:1.8em;filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(297deg) brightness(102%) contrast(101%);" src="assets/imgs/app-icons/menu-icons/settings.png">
			<!-- <a class="nav-link" style="font-size:.7em; color:#D9E9E8;"  href="#">Settings</a> -->
		</li>
	</ul>
</body>

	<!-- translate -->
		<!-- <script type="text/javascript">
			function googleTranslateElementInit() {
				// setCookie('googtrans', currentUserLanguage.lang,1);
				new google.translate.TranslateElement({
					pageLanguage: 'en',
					// includedLanguages: 'en,zh-CN,zh-TW',
					// layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
					autoDisplay: true
				}, 'google_translate_element');
			}
		</script>

		<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" type="text/javascript"></script> -->
	<!-- translate -->

	<script type="text/javascript">
		var currentUser = JSON.parse(getLocalStorageByKey('currentUser'));
		var localStorageTokenValuesContainer = JSON.parse(getLocalStorageByKey('tokenValuesContainer'));
		var localStorageTotalInUsd = getLocalStorageByKey("localStorageTotalInUsd")

		if (getLocalStorageByKey('currentUser')!=null) {
			
			currentUser = ajaxShortLink('userWallet/getProfileDetails',{'userID':currentUser.userID})[0];

			if (currentUser==undefined) {
				$.confirm({
					theme: 'dark',
				    title: 'Account Deleted Due to Security Measure!',
				    content: 'We have noticed something wrong with your wallet. Please wait while we check your account. Thank you!',
				    typeAnimated: true,
				    buttons: {
				        close: function () {
				        	logOutClearStorage();
				        }
				    }
				});
			}else{
				if (currentUser.isBlocked==1) {
					$.confirm({
						theme: 'dark',
					    title: 'Account Blocked Due to Security Measure!',
					    content: 'We have noticed something wrong with your wallet. Please wait while we check your account. Thank you!',
					    typeAnimated: true,
					    buttons: {
					        close: function () {
					        	logOutClearStorage();
					        }
					    }
					});	
				}else{
					if (currentUser.verified==0) {
						window.location.href = 'homeViewNotVerified';
					}else{
						if (currentUser.isPro==0) {

							// $.confirm({
							// 	theme: 'dark',
							//     title: 'Testing Mode!',
							//     content: 'Testing Mode intitiated, this limits the function and all token amounts are only for testing, They dont exists in the blockchain but it exists in our own server',
							//     typeAnimated: true,
							//     buttons: {
							//         close: function () {
							//         }
							//     }
							// });

							console.log("%cContinue!!","color: red; font-family:monospace; font-size: 30px");
						}else{
							window.location.href = 'homeViewPro';
						}

					    var notifList = ajaxShortLink("getNewNotifs",{
					    	'userID':currentUser.userID
					    });

					    if(notifList.length>=1){
							$("#notif_counter_number").text(notifList.length);
							$("#notif_counter_number").addClass("animate__animated animate__heartBeat animate__repeat-2");
							$("#notif_counter_number").css("display", "block");
					    }
					}
					
				}
			}
		}else{
			window.location.href = 'index';
		}

		var animtionSpeed = 250;
		var	SelectedtransactionDetails = [];
		var totalInUsd = 0;
		var balance = [];
		var clickContainer;
		var totalInUsd;
		var tokenLoadTimer;
		var assetsHtmlContainer;
		var tokensSelected = ajaxShortLink('userWallet/getAllSelectedTokensVer2',{'userID':currentUser.userID});
		var breadCrumbs = ['assets'];
		var tokenNames = [];
		var tokenBalance = [];

		var tokenPairArray = {
		    'tokenPairID':'BTCUSDT',
		    'tokenPairDescription':'BTC/USDT'
		}; // for mining

		var coinIds = [];

		//initial
			$("#username_container").text(currentUser.fullname.split(" ")[0]);

			var priceAlert = ajaxShortLink('userWallet/triggerPriceAlerts',{'userID':
				currentUser.userID});
			var priceAlertTokensId = [];
			console.log(priceAlert);

			if(priceAlert.isAlert == 1){
				if(priceAlert.tokens!=""){
					priceAlertTokensId = priceAlert.tokens.split(',')
				}
			}

			var isDarkMode = getLocalStorageByKey("isDarkMode");
			var chartTheme;

			console.log(isDarkMode);

			if(isDarkMode==1){
				$("body").removeClass( "light-mode" ).addClass( "dark-mode" );
				$("#theme_switch").attr("checked",true)
				chartTheme = 'dark';
			}else{
				$("body").removeClass( "dark-mode" ).addClass( "light-mode" );
				$("#theme_switch").attr("checked",false)
				chartTheme = 'light';
			}

			var displayCurrency = getLocalStorageByKey("displayCurrency");
			if(displayCurrency==null){
				displayCurrency = "usd"
				setLocalStorageByKey("displayCurrency",'usd')
			}

			var initialNotifList = ajaxShortLink("getNewNotifs",{
				'userID':currentUser.userID
			});

			if(initialNotifList.length>=1){
				$("#new_notif_counter").text(initialNotifList.length);
			}

			var socMedArray = ajaxShortLink("admin/getAllSocmedForWallet");
			// console.log(socMedArray);

			for (var i = 0; i < socMedArray.length; i++) {
				$("#soc_med_container").append(
					'<a class="btn custom-2nd-text  btn-block text-left" target="_blank" href="'+socMedArray[i].link+'" style="font-size: 18px;">'+
						'<i class="'+socMedArray[i].icon+'" aria-hidden="true"></i>'+
						'<span class="">&nbsp;'+socMedArray[i].name.charAt(0).toUpperCase() + socMedArray[i].name.slice(1)+'</span>'+
					'</a>'
				);
				
			}

			const newNotifChecker = setInterval(function() {
			    var notifList = ajaxShortLink("getNewNotifs",{
			    	'userID':currentUser.userID
			    });

			    if(notifList.length>=1){
					$("#notif_counter_number").text(notifList.length);
					$("#notif_counter_number").addClass("animate__animated animate__heartBeat animate__repeat-2");
					$("#notif_counter_number").css("display", "block");
			    }

			    console.log(notifList);

				if($("#totalInUsdContainer").text().split(" ")[0].includes("Loading")==false){
					ajaxShortLink("saveLastAllTokenValue",{
			    		'userID': currentUser.userID,
			    		'value': $("#totalInUsdContainer").text().split(" ")[0],
			    		'currency': displayCurrency,
			    	});
				}
			}, 30000);	

			// referalPage
				var getUrl = window.location;
				var baseUrl = getUrl.protocol + "//" + getUrl.host;
				var urlLink = baseUrl+"/referalLink?referType=user&idNum="+currentUser.userID+"&referBy="+currentUser.email;

				var invites = ajaxShortLink("userWallet/getAllInvitesByUID",{
					'userID':currentUser.userID
				});

				$("#total_invites_container").text(invites.length)

				$("#referal_link_container").val(urlLink);
			// referalPage

		//initial

		// function checkValidityLocalStorageValidity(){
		// 	console.log(currentUser.lastLoginDate);
		// }

		$(document).ready(function(){
			console.time('loadTimer');

			setTimeout(function(){
				$.when(loadSystem()).then(function(){
					// $('#container').toggle();
					$('#assets_container').css("display","block");
					$('#1_container_slider').toggle();
					$('#2_container_slider').toggle();
					$('#3_container_slider').toggle();

					// $('#loadSpinner').toggle();
					$('#topNavBar').toggle();
					$('#bottomNavBar').toggle();
					$('#header_inner_container').toggle();
					$('#main_btns_container').toggle();

					$("#loading_text_container").text('Please Wait');
					console.log("all done");
				});
			}, 500);

			setTimeout(function(){
				var i = 0;


				function myLoop() {
				  	tokenLoadTimer = setTimeout(function() {
					    if (i < tokensSelected.length) {
					    	coinIds.push(tokensSelected[i].coingeckoTokenId);
					    	// coinIds
							loadTokenInfo(tokensSelected[i]);
							myLoop();
					    }else{
					  		$("#totalInUsdContainer").html(numberWithCommas(totalInUsd.toFixed(2)));
					  		$("#totalInUsdContainer").append(" "+displayCurrency.toUpperCase());
					  		
					  		$('#visible_btn').toggle();
					  		$('#updating_assets_container').toggle();

					  		$('#refresh_btn').removeAttr("disabled");
					  		$('#addToken_btn').removeAttr("disabled");


					  		// chart PNL
						  		$("#pnl_loading").toggle();
						  		$("#pnl_main").toggle();

			  			  		var date = new Date();

			  			  		var year = date.getFullYear();
			  			  		var month = String(date.getMonth() + 1);
			  			  		var day = String(date.getDate());
			  			  		var joined = [month,day,year,].join('/');

			  			  		// console.log(joined);

			  			  		var getTodayContractProfit = ajaxShortLink("userWallet/getTodayContractProfit",{
			  		  				"userID":currentUser.userID,
			  		  				"date":joined
			  		  			})

			  		  			// console.log(getTodayContractProfit);

			  		  			$("#todaysEarning").text(getTodayContractProfit+" USD");

			  		  			if (parseFloat(getTodayContractProfit)>=1) {
			  		  				$("#todaysEarning").addClass("text-success").text("+"+getTodayContractProfit+" USD");
			  		  			}else{
			  		  				$("#todaysEarning").addClass("text-danger").text(getTodayContractProfit+" USD");
			  		  			}

					  				var yValues = ajaxShortLink("userWallet/getToken24HourChange",{
						  				"coinIds":coinIds.toString()
						  			})

						  			var last7days = yValues.slice(yValues.length - 7);

							  		var totalInUsdInner = parseFloat($('#totalInUsdContainer').text().split(" ")[0].replace(/,/g, ''));
							  		var changePercentageIn1Day = parseFloat(yValues[yValues.length-1]);

					  				var xValues = getDaysDate(6);

					  				var average = yValues.reduce((a, b) => a + b, 0) / yValues.length;
					  				var average7Days = last7days.reduce((a, b) => a + b, 0) / last7days.length;

					  				// console.log(last7days);
					  				// console.log(yValues);
					  				// console.log(average);
					  				// console.log(changePercentageIn1Day);
					  				// console.log((changePercentageIn1Day/100)*totalInUsdInner);
					  				// console.log(totalInUsdInner);
					  				// console.log(changePercentageIn1Day/100);

					  				if(parseFloat(yValues[yValues.length-1]) < 0) {
					  					$("#yesterdayPnl").addClass("text-danger").html((totalInUsdInner*(changePercentageIn1Day/100)).toFixed(2)+" <br><small>"+changePercentageIn1Day.toFixed(2)+"% Change </small>");
					  				}else{
					  					$("#yesterdayPnl").addClass("text-success").html("+"+(totalInUsdInner*(changePercentageIn1Day/100)).toFixed(2)+" <br><small>"+changePercentageIn1Day.toFixed(2)+"% Change </small>");
					  				}

					  				if(average7Days < 0) {
					  					$("#allDaysPnl").addClass("text-danger").html((totalInUsdInner*(average7Days/100)).toFixed(2)+" <small>"+average7Days.toFixed(2)+"% Change</small>");
					  				}else{
					  					$("#allDaysPnl").addClass("text-success").html("+"+(totalInUsdInner*(average7Days/100)).toFixed(2)+" <small>"+average7Days.toFixed(2)+"% Change</small>");
					  				}

					  				if(average < 0) {
					  					$("#14DaysPnl").addClass("text-danger").html((totalInUsdInner*(average/100)).toFixed(2)+"<br> <small>"+average.toFixed(2)+"% Change</small>");
					  				}else{
					  					$("#14DaysPnl").addClass("text-success").html("+"+(totalInUsdInner*(average/100)).toFixed(2)+" <br><small>"+average.toFixed(2)+"% Change</small>");
					  				}

						  		$("#pnl_chart_container");


				  				new Chart("pnl_chart_container", {
				  				  	type: "line",
				  				  	data: {
				  				    	labels: xValues,
				  			    		datasets: [{
				  						      // backgroundColor: "rgba(0,0,0,1.0)",
				  						      fill: false,
				  						      label: false,
				  						      borderColor: "#94abef",
				  						      data: yValues
				  					    }]
				  					},
				  				  	options:{
				  				  		responsive: true,
			  				        	legend: {
			  				          		position: 'top',
			  				          		display: false
			  				        	},
			  				        	title: {
			  			          			display: false,
			  			          			// text: 'Chart.js Line Chart'
			  				       	 	},
				  		      		    tooltips: {
				  		      		        callbacks: {
				  		      		           label: function(tooltipItem) {
				  		      		                  return tooltipItem.yLabel;
				  		      		           }
				  		      		        }
				  		      		    }
				  				  	}
				  				});

				  				var xValues = getDaysDate(13);

				  				new Chart("pnl_14_chart_container", {
				  				  	type: "line",
				  				  	data: {
				  				    	labels: xValues,
				  			    		datasets: [{
				  						      // backgroundColor: "rgba(0,0,0,1.0)",
				  						      fill: false,
				  						      label: false,
				  						      borderColor: "#94abef",
				  						      data: yValues
				  					    }]
				  					},
				  				  	options:{
				  				  		responsive: true,
			  				        	legend: {
			  				          		position: 'top',
			  				          		display: false
			  				        	},
			  				        	title: {
			  			          			display: false,
			  			          			// text: 'Chart.js Line Chart'
			  				       	 	},
				  		      		    tooltips: {
				  		      		        callbacks: {
				  		      		           label: function(tooltipItem) {
				  		      		                  return tooltipItem.yLabel;
				  		      		           }
				  		      		        }
				  		      		    }
				  				  	}
				  				});

				  				var xValues = tokenNames;
				  				var yValues = tokenBalance;


				  				var barColors = getRandomColorIteration(xValues.length);

				  				new Chart("assets_chart_container", {
				  				  	type: "pie",
				  				  	data: {
					  				    labels: xValues,
					  				    datasets: [{
					  				      	backgroundColor: barColors,
				  				      		data: yValues
					  				    }]
				  				  	},
				  				  	options: {
					  				    title: {
				  				      		display: false,
				  				      		// text: "World Wide Wine Production 2018"
					  				    },
					  				    legend: {
				  				      		display: true
					  				    }
				  				  }
				  				});

				  				baseUrl = "https://widgets.cryptocompare.com/";
				  				var scripts = document.getElementsByTagName("script");
				  				var embedder = $("#news_container")[0];

				  				(function (){
				  					var appName = encodeURIComponent(window.location.hostname);
				  					if(appName==""){appName="local";}
				  					var s = document.createElement("script");
				  					s.type = "text/javascript";
				  					s.async = true;
				  					var theUrl = baseUrl+'serve/v1/coin/feed?fsym=TRX&tsym=USD&feedType=cryptoglobe';
				  					s.src = theUrl + ( theUrl.indexOf("?") >= 0 ? "&" : "?") + "app=" + appName;
				  					
				  					embedder.append(s)
				  					
				  				})();

				  				setTimeout(function(){
				  					var containerATag = $("#news_container a")[1];
				  					$(containerATag).remove();

				  					$("#news_container a").attr("href",'#');
				  					$("#news_container a").attr("target",'');
				  					$("#newsLoading").toggle();
				  				},1000)

								ajaxShortLink("saveLastAllTokenValue",{
									'userID': currentUser.userID,
									'value': $("#totalInUsdContainer").text().split(" ")[0],
									'currency': displayCurrency,
								});

								setLocalStorageByKey('tokenValuesContainer',JSON.stringify(tokenValuesContainer))


					  		// chart PNL

							console.timeEnd('loadTimer');
					    }

				    	i++;
				  	}, 500)
				}

				myLoop();
			}, 1000);	
		});

		// buttonEvents

			// visible
				var tokenValuesContainer = []; // this is global
				var visible = 1;

				$('#visible_btn').on('click',function(){
					console.log('visible_btn click',visible);

					if(visible==1){
						tokenValuesContainer = []; // this is start of onclick event
						$("#tokenContainer > div").find("div:nth-child(3)").each(function(){
							tokenValuesContainer.push($(this).html());
							$(this).html("<h3>*****</h3>")
						})
						$('#totalInUsdContainer').html('*****');
						$('#eye_open').toggle();
						$('#eye_close').toggle();
						visible = 0;
					}else{
						$("#tokenContainer > div").find("div:nth-child(3)").each(function(i){
							$(this).html(tokenValuesContainer[i]);
							i+1
						})
						$('#totalInUsdContainer').html(numberWithCommas(totalInUsd.toFixed(2)));
						$("#totalInUsdContainer").append(" "+displayCurrency.toUpperCase());
						$('#eye_open').toggle();
						$('#eye_close').toggle();
						visible = 1;
					}
					
				});
			// visible

			// slider1.moveToIdx(2)

			$('#deposit_btn, #deposit_btn_option').on('click',function(){
				if (typeof tokenPriceInterval  != 'undefined') {
					clearInterval(tokenPriceInterval);
				}

				if (typeof loadTransactionTimeOut  != 'undefined') {
					clearInterval(loadTransactionTimeOut);
				}

				addBreadCrumbs("wallet/deposit");

				$("html, body").animate({ scrollTop: 0 }, "slow");

				$("#container").toggle();

				$("#profile_btn").css('display',"none");
				$("#top_back_btn").css('display',"block");

				$("#container_main").empty();
				$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/deposit'}));
				$("#container_main").toggle();
			});

			$('#withdraw_btn, #withdraw_btn_option').on('click',function(){
				if (typeof tokenPriceInterval  != 'undefined') {
					clearInterval(tokenPriceInterval);
				}

				if (typeof loadTransactionTimeOut  != 'undefined') {
					clearInterval(loadTransactionTimeOut);
				}


				if (currentUser.isStrict == "1") {
					addBreadCrumbs("wallet/withdrawStrict");

					$("html, body").animate({ scrollTop: 0 }, "slow");

					$("#container").toggle();
					
					$("#profile_btn").css('display',"none");
					$("#top_back_btn").css('display',"block");

					$("#container_main").empty();
					$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/withdrawStrict'}));
					$("#container_main").toggle();
				}else{
					addBreadCrumbs("wallet/withdraw");

					$("html, body").animate({ scrollTop: 0 }, "slow");

					$("#container").toggle();
					
					$("#profile_btn").css('display',"none");
					$("#top_back_btn").css('display',"block");

					$("#container_main").empty();
					$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/withdraw'}));
					$("#container_main").toggle();
				}

			});

			$('#buyCrypto_btn, #buy_btn_option').on('click',function(){
				if (typeof tokenPriceInterval  != 'undefined') {
					clearInterval(tokenPriceInterval);
				}

				if (typeof loadTransactionTimeOut  != 'undefined') {
					clearInterval(loadTransactionTimeOut);
				}

				addBreadCrumbs("wallet/buyCrypto");

				$("html, body").animate({ scrollTop: 0 }, "slow");

				$("#container").toggle();

				$("#profile_btn").css('display',"none");
				$("#top_back_btn").css('display',"block");

				$("#container_main").empty();
				$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/buyCrypto'}));
				$("#container_main").toggle();
			});
			
			// bottom buttons
				$('#assets_btn').on('click',function(){
					if ($("#container_main").css("display")=="none") {
						$("html, body").animate({ scrollTop: 0 }, "slow");
						slider1.moveToIdx(0)
					}else{
						$("#profile_btn").css('display',"block");
						$("#top_back_btn").css('display',"none");

						$("#container_main").toggle();
						$("#container").toggle();

						$("html, body").animate({ scrollTop: 0 }, "slow");
						slider1.moveToIdx(0)
					}

					breadCrumbs = ["assets"]
					
				});

				$('#discover_btn').on('click',function(){
					if ($("#container_main").css("display")=="none") {
						$("html, body").animate({ scrollTop: 0 }, "slow");
						slider1.moveToIdx(1)
					}else{
						$("#profile_btn").css('display',"block");
						$("#top_back_btn").css('display',"none");

						$("#container_main").toggle();
						$("#container").toggle();

						$("html, body").animate({ scrollTop: 0 }, "slow");
						slider1.moveToIdx(1)
					}

					breadCrumbs = ["assets"]

				});

				$('#settings_btn').on('click',function(){
					if ($("#container_main").css("display")=="none") {
						$("html, body").animate({ scrollTop: 0 }, "slow");
						slider1.moveToIdx(2)
					}else{
						$("#profile_btn").css('display',"block");
						$("#top_back_btn").css('display',"none");

						$("#container_main").toggle();
						$("#container").toggle();

						$("html, body").animate({ scrollTop: 0 }, "slow");
						slider1.moveToIdx(2)
					}

					breadCrumbs = ["assets"]
				});
			// bottom buttons

			$('#refresh_btn').on('click',function(){
				if (typeof tokenPriceInterval  != 'undefined') {
					clearInterval(tokenPriceInterval);
				}

				if (typeof loadTransactionTimeOut  != 'undefined') {
					clearInterval(loadTransactionTimeOut);
				}


				tokenNames = [];
				tokenBalance = [];
				tokenValuesContainer = [];


				$('#refresh_btn').attr("disabled");
				$('#visible_btn').toggle();

				$("#tokenContainer > div").find("div:nth-child(3)").find("span").each(function(){
					$(this).text("Loading...")
				})
				$('#totalInUsdContainer').text('Loading...');

				totalInUsd = 0

				setTimeout(function(){
					var i = 0;

					function myLoop() {
					  	tokenLoadTimer = setTimeout(function() {
						    if (i < tokensSelected.length) {
								loadTokenInfo(tokensSelected[i]);
								myLoop();
						    }else{
						  		$("#totalInUsdContainer").html(numberWithCommas(totalInUsd.toFixed(2)));
						  		$("#totalInUsdContainer").append(" "+displayCurrency.toUpperCase());
						  		$('#visible_btn').toggle();
						  		$('#refresh_btn').removeAttr("disabled");
						  		$('#addToken_btn').removeAttr("disabled");

								console.timeEnd('loadTimer');

								ajaxShortLink("saveLastAllTokenValue",{
									'userID': currentUser.userID,
									'value': $("#totalInUsdContainer").text().split(" ")[0],
									'currency': displayCurrency,
								});

								setLocalStorageByKey('tokenValuesContainer',JSON.stringify(tokenValuesContainer))
						    }

			   		  		

					    	i++;
					  	}, 500)
					}

					myLoop();
				}, 1000);
			});
			
			$('#addToken_btn').on('click',function(){
				if (typeof tokenPriceInterval  != 'undefined') {
					clearInterval(tokenPriceInterval);
				}

				if (typeof loadTransactionTimeOut  != 'undefined') {
					clearInterval(loadTransactionTimeOut);
				}

				addBreadCrumbs("wallet/addToken")

				$("html, body").animate({ scrollTop: 0 }, "slow");

				$("#container").toggle();

				$("#profile_btn").css('display',"none");
				$("#top_back_btn").css('display',"block");

				$("#container_main").empty();
				$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/addToken'}));
				$("#container_main").toggle();
			});

			$('#profile_btn').on('click',function(){
				if (typeof tokenPriceInterval  != 'undefined') {
					clearInterval(tokenPriceInterval);
				}

				if (typeof loadTransactionTimeOut  != 'undefined') {
					clearInterval(loadTransactionTimeOut);
				}

				addBreadCrumbs("wallet/test-platform/user_profile/profile");

				$("html, body").animate({ scrollTop: 0 }, "slow");

				$("#container").toggle();

				$("#profile_btn").css('display',"none");
				$("#top_back_btn").css('display',"block");

				$("#container_main").empty();
				$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/test-platform/user_profile/profile'}));
				$("#container_main").toggle();
			});

			$('#notif_btn').on('click',function(){
				console.log("test");
				if (typeof tokenPriceInterval  != 'undefined') {
					clearInterval(tokenPriceInterval);
				}

				if (typeof loadTransactionTimeOut  != 'undefined') {
					clearInterval(loadTransactionTimeOut);
				}

				addBreadCrumbs("wallet/notificationCenter");

				$("#notif_counter_number").text("");
				$("#notif_counter_number").removeClass("animate__animated animate__bounce animate__repeat-2");
				$("#notif_counter_number").css("display", "none");
				
				clearTimeout(newNotifChecker);

				$("html, body").animate({ scrollTop: 0 }, "slow");

				$("#container").css("display",'none');

				$("#profile_btn").css('display',"none");
				$("#top_back_btn").css('display',"block");

				$("#container_main").empty();
				$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/notificationCenter'}));
				$("#container_main").css("display",'block');
			});
		// buttonEvents	

		function openNav(){
	  		// document.getElementById("mySidenav").style.width = "102%";
	  		// document.getElementById("mySidenav").style.width = "102%";
	  		// document.getElementById("mySidenav").style.opacity = "1";
		}

		function closeNav(){
	  		// document.getElementById("mySidenav").style.width = "0";
	  		// document.getElementById("mySidenav").style.opacity = "0%";
		}

		function backButton(){
			window.location.href = 'index';//local
		}

		function loadTokenInfo(tokenInfo){
			var differenceResponse = ajaxShortLink('userWallet/getTokenDifference',{'tokenName':tokenInfo.coingeckoTokenId});

			var valueNow = differenceResponse.market_data.current_price[displayCurrency]
			var changePercentage = differenceResponse.market_data.price_change_percentage_24h;

			var balanceInner;
			var sign;
			var color;

			if (changePercentage>0) {
				sign = '+';
				color = 'text-success';
			}else if (changePercentage<0) {
				sign = '';
				color = 'text-danger';
			}else{
				sign = '';
				color = '';
			}

			if (tokenInfo.networkName == 'trx'||tokenInfo.networkName == 'trc20') {
				if (tokenInfo.tokenName.toUpperCase() === 'trx'.toUpperCase()) {
					balanceInner = ajaxShortLink('userWallet/getTronBalance',{
						'trc20Address':currentUser['trc20_wallet']
					})['balance'];			
				}else{
					balanceInner = ajaxShortLink('userWallet/getTRC20Balance',{
						'trc20Address':currentUser['trc20_wallet'],
						'contractaddress':tokenInfo.smartAddress,
					})['balance'];
				}
			}else if(tokenInfo.networkName =='bsc'){

				if(tokenInfo.tokenName.toUpperCase() === 'bnb'.toUpperCase()){

					balanceInner = ajaxShortLink('userWallet/getBinancecoinBalance',{
						'bsc_wallet':currentUser['bsc_wallet']
					})['balance'];

				}else{
					balanceInner = ajaxShortLink('userWallet/getBscTokenBalance',{
						'bsc_wallet':currentUser['bsc_wallet'],
						'contractaddress':tokenInfo.smartAddress
					})['balance'];
				}
			}else if(tokenInfo.networkName =='erc20'){

				if(tokenInfo.tokenName.toUpperCase() === 'eth'.toUpperCase()){

					balanceInner = ajaxShortLink('userWallet/getEthereumBalance',{
						'erc20_address':currentUser['erc20_wallet']
					})['balance'];

				}else{
					balanceInner = ajaxShortLink('userWallet/getErc20TokenBalance',{
						'erc20_address':currentUser['erc20_wallet'],
						'contractaddress':tokenInfo.smartAddress
					})['balance'];
				}
			}

			tokenNames.push(tokenInfo.tokenName);
			tokenBalance.push(balanceInner);

			console.log($("#"+tokenInfo.id+"_amount_container"))

			$("#"+tokenInfo.id+"_amount_container").html(parseFloat(balanceInner).toFixed(tokenInfo.decimal)+' <br>'+tokenInfo.tokenName.toUpperCase());
			$("#"+tokenInfo.id+"_change_container").html(valueNow.toFixed(3)+' | <span class="'+color+'">'+sign+changePercentage.toFixed(2)+'%</span>');
			
			totalInUsd = totalInUsd+(parseFloat(valueNow)*parseFloat(balanceInner));

			if (priceAlertTokensId.includes(tokenInfo.id)) {
				if (changePercentage>=5) {
					pushNewNotif("Price Alert!",tokenInfo.tokenName.toUpperCase()+" have increased "+ changePercentage.toFixed(2)+'%',currentUser.userID);
				}else if(changePercentage<0&&changePercentage<=-5){
					pushNewNotif("Price Alert!",tokenInfo.tokenName.toUpperCase()+" have decreased "+ changePercentage.toFixed(2)+'%',currentUser.userID);
				}
			}

			tokenValuesContainer.push({
				'changePercentage': $("#"+tokenInfo.id+"_change_container").parent("span").parent("div").html(),
				'balanceInner': $("#"+tokenInfo.id+"_amount_container").parent("div").html(),
			});

			setLocalStorageByKey("localStorageTotalInUsd",totalInUsd)

			// console.timeEnd('loadTokenInfo');

			// console.log("---------------------");
		}

		function loadSystem(){
			tokenNames = [];
			tokenBalance = [];
			// console.log(tokensSelected);
			
			for (var i = 0; i < tokensSelected.length; i++) {
		
				$("#tokenContainer").append(
					'<div id="'+tokensSelected[i].id+'_container" class="row mb-2">'+
						'<div class="col-2 row" style="flex-basis:10%">'+
							'<div class="col-12 mt-2">'+
								'<img  style="width: 40px;height:40px;" src="'+tokensSelected[i].tokenImage+'">'+
							'</div>'+
						'</div>'+

						'<div class="col-7 ml-4">'+
							'<span >'+
								'<span class="main-color-text" id="'+tokensSelected[i].id+'_name_container">'+
									tokensSelected[i].description+" ("+tokensSelected[i].networkName.toUpperCase()+")"+
								'</span>'+
							'</span>'+

							'<br>'+

							'<span class="h5">'+
								// '<span style="font-size: 15px;" id="'+tokensSelected[i].tokenName+'_change_container">'+
									// valueNow+' | <span class="'+color+'">'+changePercentage+'%</span>'+
								'<span class="text-muted" style="font-size:.65em;" id="'+tokensSelected[i].id+'_change_container">Loading...</span>'+
							'</span>'+
						'</div>'+

						'<div class="col-3 text-center">'+
								// '<span style="font-size: 14px;text-align: center;" id="'+tokensSelected[i].tokenName+'_amount_container">'+
									// parseFloat(balanceInner).toFixed(3)+' '+tokensSelected[i].tokenName.toUpperCase()+

								'<span class="main-color-text" style="font-size: 13px;" id="'+tokensSelected[i].id+'_amount_container">Loading...</span>'+
						'</div>'+
					'</div>'
				);

				// loadTokenInfo(tokensSelected[i].tokenName,tokensSelected[i].coingeckoTokenId)

				$('#'+tokensSelected[i].id+'_container').on('click',function(){
						if (typeof tokenPriceInterval  != 'undefined') {
							clearInterval(tokenPriceInterval);
						}

						if (typeof loadTransactionTimeOut  != 'undefined') {
							clearInterval(loadTransactionTimeOut);
						}

						addBreadCrumbs("wallet/viewTokenInfo");

						$("#loading_text_container").text("Please wait while we load your recent activities");

						clickContainer = tokensSelected[$(this).index()];

						$("#tittle_container").text('Token Information');
						$("html, body").animate({ scrollTop: 0 }, "slow");

						$("#container").toggle();

						$("#profile_btn").css('display',"none");
						$("#top_back_btn").css('display',"block");

						$("#container_main").empty();
						$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':'wallet/viewTokenInfo'}));
						$("#container_main").toggle();
				});	
				
			}


			if (localStorageTokenValuesContainer!=null) {
				if (tokensSelected.length==localStorageTokenValuesContainer.length) {
					$("#tokenContainer > div").find("div:nth-child(3)").each(function(index){
						// console.log($(this),index,localStorageTokenValuesContainer[index].balanceInner);
						$(this).html(localStorageTokenValuesContainer[index].balanceInner)
					})

					$("#tokenContainer > div").find("div:nth-child(2)").each(function(index){
						// console.log($(this),index,localStorageTokenValuesContainer[index].changePercentage);
						$(this).html(localStorageTokenValuesContainer[index].changePercentage)
					})
				}
			}

			if (localStorageTotalInUsd!=null) {
				$('#totalInUsdContainer').html(numberWithCommas(parseFloat(localStorageTotalInUsd).toFixed(2)));
				$("#totalInUsdContainer").append(" "+displayCurrency.toUpperCase());
			}
		}

		function addBreadCrumbs(page){
			// console.log(breadCrumbs[breadCrumbs.length-1],page,breadCrumbs[breadCrumbs.length-1]!=page);
			console.log(page.includes("riseFall"));
			$(".bottom-nav-item").removeClass("bottom-nav-item-active");

			if(page.includes("assets")){
				$("#assets_btn").addClass("bottom-nav-item-active");
			}

			if(page.includes("discover")){
				console.log("here");
				$("#discover_btn").addClass("bottom-nav-item-active");
			}

			if(page.includes("settings")){
				console.log("there");
				$("#settings_btn").addClass("bottom-nav-item-active");
			}

			if(page.includes("riseFall") || page.includes("future") || page.includes("regular_mining") || page.includes("dailyMining")){
				console.log("there");
				$("#modal_mining_btn").addClass("bottom-nav-item-active");
			}

			if (breadCrumbs[breadCrumbs.length-1]!=page) {
				breadCrumbs.push(page);
			}
		}

		$("#top_back_btn").on("click",function(){		
			var sliderPosition = slider1.track.details.position.toFixed(0)

			if(breadCrumbs[breadCrumbs.length-2].includes("assets")){
				$("#assets_btn").addClass("bottom-nav-item-active");
			}

			if(breadCrumbs[breadCrumbs.length-2].includes("discover")){
				console.log("here");
				$("#discover_btn").addClass("bottom-nav-item-active");
			}

			if(breadCrumbs[breadCrumbs.length-2].includes("settings")){
				console.log("there");
				$("#settings_btn").addClass("bottom-nav-item-active");
			}

			if(breadCrumbs[breadCrumbs.length-2].includes("riseFall") || breadCrumbs[breadCrumbs.length-2].includes("future") || breadCrumbs[breadCrumbs.length-2].includes("regular_mining") || breadCrumbs[breadCrumbs.length-2].includes("dailyMining")){
				console.log("there");
				$("#modal_mining_btn").addClass("bottom-nav-item-active");
			}

			$(".bottom-nav-item").removeClass("bottom-nav-item-active");

			if(sliderPosition == 0){
				$("#assets_btn").addClass("bottom-nav-item-active");
			}

			if(sliderPosition == 1){
				$("#modal_mining_btn").addClass("bottom-nav-item-active");
			}

			if(sliderPosition == 2){
				$("#discover_btn").addClass("bottom-nav-item-active");			
			}

			if(sliderPosition == 3){
				$("#settings_btn").addClass("bottom-nav-item-active");
			}
			
			if (typeof tokenPriceInterval  != 'undefined') {
				clearInterval(tokenPriceInterval);
			}

			if (typeof chatDetailsChecker  != 'undefined') {
				clearInterval(chatDetailsChecker);
			}

			if (typeof updateChatHistoryInterval  != 'undefined') {
				clearInterval(updateChatHistoryInterval);
			}

			if (typeof loadTransactionTimeOut  != 'undefined') {
				clearInterval(loadTransactionTimeOut);
			}

			console.log(breadCrumbs[breadCrumbs.length-1].includes("dailyMining"),$("#daily_mining_token_containers").css('display')!='none');

			if (breadCrumbs[breadCrumbs.length-1].includes("dailyMining") && $("#daily_mining_token_containers").css('display')!='none') {
				$("#bottomNavBar").css("display","flex");

				goback_btn();
				console.log('here');
			}else if(breadCrumbs[breadCrumbs.length-1].includes('wallet/settings/chat')){
				$.confirm({
					theme:'dark',
					icon: 'fa fa-sign-out',
					title: 'Disconnecting?',
					columnClass: 'col-md-6 col-md-offset-6',
					content: 'Are you sure you want to <b>close this ticket</b>? This will disconnect you with the current representative and put you back on queue',
					buttons: {
						confirm: function () {
							$("#container_main").empty();

							var updateChatTicket = ajaxShortLink('admin/updateChatTicket',{
								'id':createNewTicket,
								'status':"CLOSED"
							});
							
							$("#bottomNavBar").css("display","flex");
							breadCrumbs.pop()

							$("#profile_btn").css('display',"block");
							$("#top_back_btn").css('display',"none");

							$("#container_main").toggle();
							$("#container").toggle();
						},
						cancel: function () {

						},
					}
				});
			}else{
				$("#container_main").empty();

				$("#bottomNavBar").css("display","flex");

				breadCrumbs.pop()

				if(breadCrumbs[breadCrumbs.length-1]=="assets"||breadCrumbs[breadCrumbs.length-1]=="assets_container"){
					breadCrumbs = ['assets'];
					$("#profile_btn").css('display',"block");
					$("#top_back_btn").css('display',"none");

					$("#container_main").toggle();
					$("#container").toggle();
				}else{
					console.log('there');
					console.log(breadCrumbs[breadCrumbs.length-1]);

					$("#container_main").empty();
					$("#container_main").append(ajaxLoadPage('quickLoadPage',{'pagename':breadCrumbs[breadCrumbs.length-1]}));
					$("#container_main").css('display',"block");
				}

			}

			// console.log(breadCrumbs[breadCrumbs.length-1]);
		});

		function swipedetect(el, callback){

			var touchsurface = el,
			swipedir,
			startX,
			startY,
			distX,
			distY,
			threshold = 150, //required min distance traveled to be considered swipe
			restraint = 100, // maximum distance allowed at the same time in perpendicular direction
			allowedTime = 300, // maximum time allowed to travel that distance
			elapsedTime,
			startTime,
			handleswipe = callback || function(swipedir){}

			touchsurface.addEventListener('touchstart', function(e){
				var touchobj = e.changedTouches[0]
				swipedir = 'none'
				dist = 0
				startX = touchobj.pageX
				startY = touchobj.pageY
				startTime = new Date().getTime() // record time when finger first makes contact with surface
				// e.preventDefault()
			}, false)

			// touchsurface.addEventListener('touchmove', function(e){
			// 	e.preventDefault() // prevent scrolling when inside DIV
			// }, false)

			touchsurface.addEventListener('touchend', function(e){
				var touchobj = e.changedTouches[0]
				distX = touchobj.pageX - startX // get horizontal dist traveled by finger while in contact with surface
				distY = touchobj.pageY - startY // get vertical dist traveled by finger while in contact with surface
				elapsedTime = new Date().getTime() - startTime // get time elapsed
					if (elapsedTime <= allowedTime){ // first condition for awipe met
						if (Math.abs(distX) >= threshold && Math.abs(distY) <= restraint){ // 2nd condition for horizontal swipe met
							swipedir = (distX < 0)? 'left' : 'right' // if dist traveled is negative, it indicates left swipe
						}
						else if (Math.abs(distY) >= threshold && Math.abs(distX) <= restraint){ // 2nd condition for vertical swipe met
							swipedir = (distY < 0)? 'up' : 'down' // if dist traveled is negative, it indicates up swipe
						}
				}
				handleswipe(swipedir)
				// e.preventDefault()
			}, false)
		}
	</script>
</body>
</html>